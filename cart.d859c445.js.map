{"mappings":"AAAA,IAAMA,QAAU,CACZ,CAAEC,GAAI,EAAGC,MAAO,eAA2BC,OAAQ,iBAA4BC,OAAQ,GAClE,CAAnBH,GAAI,EAAGC,MAAO,kBAAiCC,OAAQ,mBAA8BC,OAAQ,GACvE,CAAtBH,GAAI,EAAGC,MAAO,OAAQC,OAAQ,gBAA6BC,OAAQ,GACzD,CAAVH,GAAI,EAAGC,MAAO,qBAAuCC,OAAQ,YAAqBC,OAAQ,IAG1FC,WAAa,GAIjB,SAASC,uBACP,IAAMC,EAAWC,SAASC,eAAe,eACzCF,EAASG,UAAY,GACrBV,QAAQW,SAAQ,SAACC,GACf,GAAIA,EAAKR,OAAS,EAAG,CACnB,IAAMS,EAASL,SAASM,cAAc,UACtCD,EAAOE,MAAQH,EAAKX,GACpBY,EAAOG,YAAcJ,EAAKV,MAC1BK,EAASU,YAAYJ,E,KA+C3B,SAASK,oBACP,IAAMC,EACJX,SAASY,cAAc,2BACvBZ,SAASM,cAAc,MAElBN,SAASY,cAAc,2BAC1BD,EAAKE,UAAUC,IAAI,oBAGvBH,EAAKT,UAAY,GACjBL,WAAWM,SAAQ,SAACY,GAClB,IAAMX,EAAOJ,SAASM,cAAc,MACpCF,EAAKI,YAAc,GAA6BQ,OAA1BD,EAAEE,KAAKvB,MAAM,eAC3BsB,OAD8CD,EAAEG,UAAU,kBAEjEF,OADCD,EAAEI,YAAc,gBAEtBR,EAAKF,YAAYL,E,IAEVJ,SAASY,cAAc,2BAC1BZ,SAASY,cAAc,qBAAqBQ,MAAMT,E,CA1DtDX,SAASC,eAAe,cAAcoB,iBAAiB,UAAU,SAACC,GAChEA,EAAEC,iBACF,IAAMC,EAAaC,SAASzB,SAASC,eAAe,eAAeM,OAC7DmB,EAAelC,QAAQmC,MAAK,SAACZ,G,OAAMA,EAAEtB,KAAO+B,C,IAElD,GAAIE,EAAc,CAChBA,EAAa9B,QAAU,EACvB,IAAMgC,GAAa,IAAIC,MAAOC,qBAC9BjC,WAAWkC,KAAK,CACdd,KAAMS,EACNR,UAAWU,EACXT,WAAY,OAEdT,oBACAZ,sB,KAMJE,SAASC,eAAe,eAAeoB,iBAAiB,UAAU,SAACC,GACjEA,EAAEC,iBACF,IAAMS,EAASP,SAASzB,SAASC,eAAe,WAAWM,OACrD0B,EAAYpC,WAAW8B,MAC3B,SAACZ,G,OAAMA,EAAEE,KAAKxB,KAAOuC,IAAWjB,EAAEI,U,IAGpC,GAAIc,EAAW,CACbA,EAAUd,YAAa,IAAIU,MAAOC,qBAClC,IAAMb,EAAOzB,QAAQmC,MAAK,SAACZ,G,OAAMA,EAAEtB,KAAOuC,C,IACtCf,IACFA,EAAKrB,QAAU,GAEjBc,oBACAZ,sB,KA4BJA","sources":["src/cart.js"],"sourcesContent":["const library = [\n    { id: 1, title: \"Гаррі Поттер\", author: \"Дж. К. Роулінг\", copies: 5 },\n    { id: 2, title: \"Володар Перснів\", author: \"Дж. Р. Р. Толкін\", copies: 7 },\n    { id: 3, title: \"1984\", author: \"Джордж Орвелл\", copies: 4 },\n    { id: 4, title: \"Убити пересмішника\", author: \"Харпер Лі\", copies: 9 },\n  ];\n  \n  let takenBooks = [];\n  \n  //* ==================================\n  \n  function populateBookDropdown() {\n    const dropdown = document.getElementById(\"book-select\");\n    dropdown.innerHTML = \"\";\n    library.forEach((item) => {\n      if (item.copies > 0) {\n        const option = document.createElement(\"option\");\n        option.value = item.id;\n        option.textContent = item.title;\n        dropdown.appendChild(option);\n      }\n    });\n  }\n  \n  //* ==================================\n  \n  document.getElementById(\"issue-form\").addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const selectedId = parseInt(document.getElementById(\"book-select\").value);\n    const selectedBook = library.find((b) => b.id === selectedId);\n  \n    if (selectedBook) {\n      selectedBook.copies -= 1;\n      const dateIssued = new Date().toLocaleDateString();\n      takenBooks.push({\n        book: selectedBook,\n        issueDate: dateIssued,\n        returnDate: null,\n      });\n      displayTakenBooks();\n      populateBookDropdown();\n    }\n  });\n  \n  //* ==================================\n  \n  document.getElementById(\"return-form\").addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const cardId = parseInt(document.getElementById(\"cart-id\").value);\n    const takenBook = takenBooks.find(\n      (b) => b.book.id === cardId && !b.returnDate\n    );\n  \n    if (takenBook) {\n      takenBook.returnDate = new Date().toLocaleDateString();\n      const book = library.find((b) => b.id === cardId);\n      if (book) {\n        book.copies += 1;\n      }\n      displayTakenBooks();\n      populateBookDropdown();\n    }\n  });\n  \n  //* ==================================\n  \n  function displayTakenBooks() {\n    const list =\n      document.querySelector(\".taken-book-title + ul\") ||\n      document.createElement(\"ul\");\n      \n      if (!document.querySelector(\".taken-book-title + ul\")) {\n        list.classList.add(\"taken-books-list\"); \n      }\n\n    list.innerHTML = \"\";\n    takenBooks.forEach((b) => {\n      const item = document.createElement(\"li\");\n      item.textContent = `${b.book.title} - Видача: ${b.issueDate}, Повернення: ${\n        b.returnDate || \"не повернено\"\n      }`;\n  list.appendChild(item);\n    });\n    if (!document.querySelector(\".taken-book-title + ul\")) {\n      document.querySelector(\".taken-book-title\").after(list);\n    }\n  }\n\n  populateBookDropdown();"],"names":["library","id","title","author","copies","takenBooks","populateBookDropdown","dropdown","document","getElementById","innerHTML","forEach","item","option","createElement","value","textContent","appendChild","displayTakenBooks","list","querySelector","classList","add","b","concat","book","issueDate","returnDate","after","addEventListener","e","preventDefault","selectedId","parseInt","selectedBook","find","dateIssued","Date","toLocaleDateString","push","cardId","takenBook"],"version":3,"file":"cart.d859c445.js.map"}