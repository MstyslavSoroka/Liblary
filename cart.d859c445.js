var library=[{id:1,title:"Гаррі Поттер",author:"Дж. К. Роулінг",copies:5},{id:2,title:"Володар Перснів",author:"Дж. Р. Р. Толкін",copies:7},{id:3,title:"1984",author:"Джордж Орвелл",copies:4},{id:4,title:"Убити пересмішника",author:"Харпер Лі",copies:9}],takenBooks=[];function populateBookDropdown(){var e=document.getElementById("book-select");e.innerHTML="",library.forEach((function(t){if(t.copies>0){var o=document.createElement("option");o.value=t.id,o.textContent=t.title,e.appendChild(o)}}))}function displayTakenBooks(){var e=document.querySelector(".taken-book-title + ul")||document.createElement("ul");document.querySelector(".taken-book-title + ul")||e.classList.add("taken-books-list"),e.innerHTML="",takenBooks.forEach((function(t){var o=document.createElement("li");o.textContent="".concat(t.book.title," - Видача: ").concat(t.issueDate,", Повернення: ").concat(t.returnDate||"не повернено"),e.appendChild(o)})),document.querySelector(".taken-book-title + ul")||document.querySelector(".taken-book-title").after(e)}document.getElementById("issue-form").addEventListener("submit",(function(e){e.preventDefault();var t=parseInt(document.getElementById("book-select").value),o=library.find((function(e){return e.id===t}));if(o){o.copies-=1;var n=(new Date).toLocaleDateString();takenBooks.push({book:o,issueDate:n,returnDate:null}),displayTakenBooks(),populateBookDropdown()}})),document.getElementById("return-form").addEventListener("submit",(function(e){e.preventDefault();var t=parseInt(document.getElementById("cart-id").value),o=takenBooks.find((function(e){return e.book.id===t&&!e.returnDate}));if(o){o.returnDate=(new Date).toLocaleDateString();var n=library.find((function(e){return e.id===t}));n&&(n.copies+=1),displayTakenBooks(),populateBookDropdown()}})),populateBookDropdown();
//# sourceMappingURL=cart.d859c445.js.map
